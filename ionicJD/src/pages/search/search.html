<!--
  Generated template for the SearchPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-searchbar [(ngModel)]="myInput">
    </ion-searchbar>
    <ion-buttons end>
      <button ion-button (click)='getSearchList()'>
        搜索
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<div class="sub-header" *ngIf='flag'>
  <div>
    综合
  </div>
  <div>
    销量
  </div>
  <div>
    价格
  </div>
</div>

<ion-content>
  <div class="search-content" *ngIf='!flag'>
    <div class="hotlist">
      <h3 class='search-title'>
        热搜
      </h3>
      <p>
        <span>女装</span>
        <span>男装</span>
        <span>家具</span>
        <span>化妆品</span>
        <span>女装</span>
      </p>
    </div>

    <div class="history">
      <h3 class="search-title">历史搜索</h3>
      <ion-list>
        <ion-item *ngFor='let item of historyList' (tap)='goSearch(item)' (press)='removeHistory(item)'>
          {{item}}
        </ion-item>
      </ion-list>
    </div>
  </div>

  <div class="list-content" *ngIf='flag'>
    <ion-list inset>
      <ion-item *ngFor='let item of list'>
        <ion-thumbnail item-start>
          <img [src]='configProvider.urlHead+item.pic'>
        </ion-thumbnail>
        <h2>{{item.title}}</h2>
        <p>价格：<span class='price'>{{item.price}}</span>元</p>
      </ion-item>
    </ion-list>
  </div>
  <ion-infinite-scroll (ionInfinite)="doInfinite($event)" *ngIf='hasData'>
    <ion-infinite-scroll-content></ion-infinite-scroll-content>
  </ion-infinite-scroll>

</ion-content>